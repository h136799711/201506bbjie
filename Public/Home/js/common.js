define(["jquery","underscore","extend/ajax","extend/validate"],function(e,t,n){e(document).on("click.modal.data-api",'[data-toggle="modal2"]',function(t){t.preventDefault();if(e(this).is(".disabled"))return!1;var n=e(this),r={url:n.attr("href")};n.attr("modal-title")&&(r.title=n.attr("modal-title")),n.attr("modal-classic")&&(r.classic=n.attr("modal-classic")),e.mine_modal(r)}),e(document).on("click.ajax_button","[data-role=ajax]",function(t){t.preventDefault();if(e(this).is(".disabled"))return!1;if(e(this).attr("data-confirm")&&!confirm(e(this).attr("data-confirm")))return!1;var r={},i=this;e(this).attr("data-post")&&(r=e.parseJSON(e(this).attr("data-post"))),e.post(e(this).attr("href"),r,e.proxy(n._chuli,i),"json").fail(function(){alert("操作失败，请稍后再试")})}),e(document).find("[tooltip]").tooltip({html:!0,title:function(){return e(this).attr("tooltip")}})});